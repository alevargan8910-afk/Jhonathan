<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vista de administración</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
    <main>
        <div class="contenedor">
            <h2>Bienvenido, <%= admin.nombre %>!</h2>
            <p>Esta es tu vista de administración.</p>
        </div>

        <div>
           <div class="productos">
                <% if (!productos || productos.length === 0) { %>
                    <p>No hay productos para mostrar.</p>
                <% } else { %>
                    <ul>
                    <% productos.forEach(function(p) { %>
                        <li>

                            <strong><%= p.nombre %></strong>
                            <div>Id: <%= p.id %></div>
                            <div>Código: <%= p.codigo %></div>
                            <div>Descripción: <%= p.descripcion %></div>
                            <div>Precio: $<%= p.precio %></div>
                            <div>Stock: <%= p.stock %></div>
                        </li>
                    <% }); %>
                    </ul>
                <% } %>
            </div>
            <div class="crud">
                <div class="card">
                    <h3>Crear nuevo producto</h3>
                    <form action="/admin/productos" method="post">
                        <input type="text" name="nombre" placeholder="Nombre del producto" required>
                        <input type="text" name="codigo" placeholder="Código del producto" required>
                        <input type="text" name="descripcion" placeholder="Descripción del producto" required>
                        <input type="number" step="0.01" name="precio" placeholder="Precio" required>
                        <input type="number" name="stock" placeholder="Stock" required>
                        <button type="submit">Crear Producto</button>
                    </form>
                </div>

                <div class="card">
                    <h3>Eliminar producto</h3>
                    <form action="/admin/productos/delete" method="post">
                        <input type="number" name="id" placeholder="ID del producto a eliminar" required>
                        <button type="submit">Eliminar Producto</button>
                    </form>
                </div>

                <div class="card">
                    <h3>Actualizar producto</h3>
                    <form action="/admin/productos/update" method="post">
                        <input type="number" name="id" placeholder="ID del producto a actualizar" required>
                        <input type="text" name="codigo" placeholder="Nuevo código del producto">
                        <input type="text" name="descripcion" placeholder="Nueva descripción del producto">
                        <input type="text" name="nombre" placeholder="Nuevo nombre del producto">
                        <input type="number" step="0.01" name="precio" placeholder="Nuevo precio">
                        <input type="number" name="stock" placeholder="Nuevo stock">
                        <button type="submit">Actualizar Producto</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
</body>
</html>